/*!
 * toc - jQuery Table of Contents Plugin
 * v0.3.2
 * http://projects.jga.me/toc/
 * copyright Greg Allen 2014
 * MIT License
*/
/*!
 * smooth-scroller - Javascript lib to handle smooth scrolling
 * v0.1.2
 * https://github.com/firstandthird/smooth-scroller
 * copyright First+Third 2014
 * MIT License
*/
(function(n){n.fn.smoothScroller=function(t){t=n.extend({},n.fn.smoothScroller.defaults,t);var i=n(this);return n(t.scrollEl).animate({scrollTop:i.offset().top-n(t.scrollEl).offset().top-t.offset},t.speed,t.ease,function(){var n=i.attr("id");n.length&&(history.pushState?history.pushState(null,null,"#"+n):document.location.hash=n);i.trigger("smoothScrollerComplete")}),this};n.fn.smoothScroller.defaults={speed:400,ease:"swing",scrollEl:"body,html",offset:0};n("body").on("click","[data-smoothscroller]",function(t){t.preventDefault();var i=n(this).attr("href");i.indexOf("#")===0&&n(i).smoothScroller()})})(jQuery),function(n){var t={};n.fn.toc=function(t){var f=this,i=n.extend({},jQuery.fn.toc.defaults,t),s=n(i.container),h=n(i.selectors,s),e=[],r=i.activeClass,c=function(t,u){if(i.smoothScrolling&&typeof i.smoothScrolling=="function"){t.preventDefault();var e=n(t.target).attr("href");i.smoothScrolling(e,i,u)}n("li",f).removeClass(r);n(t.target).parent().addClass(r)},o,u=function(){o&&clearTimeout(o);o=setTimeout(function(){for(var u,c=n(window).scrollTop(),o,s=Number.MAX_VALUE,h=0,t=0,l=e.length;t<l;t++)u=Math.abs(e[t]-c),u<s&&(h=t,s=u);n("li",f).removeClass(r);o=n("li:eq("+h+")",f).addClass(r);i.onHighlight(o)},50)};return i.highlightOnScroll&&(n(window).bind("scroll",u),u()),this.each(function(){var t=n(this),r=n(i.listType);h.each(function(f,o){var s=n(o),h,l,a;e.push(s.offset().top-i.highlightOffset);h=i.anchorName(f,o,i.prefix);o.id!==h&&s.attr("id",h);l=n("<a/>").text(i.headerText(f,o,s)).attr("href","#"+h).bind("click",function(i){n(window).unbind("scroll",u);c(i,function(){n(window).bind("scroll",u)});t.trigger("selected",n(this).attr("href"))});a=n("<li/>").addClass(i.itemClass(f,o,s,i.prefix)).append(l);r.append(a)});t.html(r)})};jQuery.fn.toc.defaults={container:"body",listType:"<ul/>",selectors:"h1,h2,h3",smoothScrolling:function(t,i,r){n(t).smoothScroller({offset:i.scrollToOffset}).on("smoothScrollerComplete",function(){r()})},scrollToOffset:0,prefix:"toc",activeClass:"toc-active",onHighlight:function(){},highlightOnScroll:!0,highlightOffset:100,anchorName:function(i,r,u){var f,e;if(r.id.length)return r.id;if(f=n(r).text().replace(/[^a-z0-9]/ig," ").replace(/\s+/g,"-").toLowerCase(),t[f]){for(e=2;t[f+e];)e++;f=f+"-"+e}return t[f]=!0,u+"-"+f},headerText:function(n,t,i){return i.text()},itemClass:function(n,t,i,r){return r+"-"+i[0].tagName.toLowerCase()}}}(jQuery);